/*
 bootstrap-star-rating v4.0.2
 http://plugins.krajee.com/star-rating

 Author: Kartik Visweswaran
 Copyright: 2013 - 2017, Kartik Visweswaran, Krajee.com

 Licensed under the BSD 3-Clause
 https://github.com/kartik-v/bootstrap-star-rating/blob/master/LICENSE.md
*/
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof module&&module.exports?module.exports=d(require("jquery")):d(window.jQuery)})(function(d){d.fn.ratingLocales={};d.fn.ratingThemes={};var f={NAMESPACE:".rating",DEFAULT_MIN:0,DEFAULT_MAX:5,DEFAULT_STEP:.5,isEmpty:function(a,b){return null===a||void 0===a||0===a.length||b&&""===d.trim(a)},getCss:function(a,b){return a?" "+b:""},addCss:function(a,b){a.removeClass(b).addClass(b)},getDecimalPlaces:function(a){return(a=
(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(a[1]?a[1].length:0)-(a[2]?+a[2]:0)):0},applyPrecision:function(a,b){return parseFloat(a.toFixed(b))},handler:function(a,b,c,e,d){b=d?b:b.split(" ").join(f.NAMESPACE+" ")+f.NAMESPACE;e||a.off(b);a.on(b,c)}};var h=function(a,b){this.$element=d(a);this._init(b)};h.prototype={constructor:h,_parseAttr:function(a,b){var c=this.$element,e=c.attr("type");if("range"===e||"number"===e){c=b[a]||c.data(a)||c.attr(a);switch(a){case "min":var d=f.DEFAULT_MIN;
break;case "max":d=f.DEFAULT_MAX;break;default:d=f.DEFAULT_STEP}c=f.isEmpty(c)?d:c;c=parseFloat(c)}else c=parseFloat(b[a]);return isNaN(c)?d:c},_parseValue:function(a){a=parseFloat(a);isNaN(a)&&(a=this.clearValue);return!this.zeroAsNull||0!==a&&"0"!==a?a:null},_setDefault:function(a,b){f.isEmpty(this[a])&&(this[a]=b)},_initSlider:function(a){var b=this.$element.val();this.initialValue=f.isEmpty(b)?0:b;this._setDefault("min",this._parseAttr("min",a));this._setDefault("max",this._parseAttr("max",a));
this._setDefault("step",this._parseAttr("step",a));if(isNaN(this.min)||f.isEmpty(this.min))this.min=f.DEFAULT_MIN;if(isNaN(this.max)||f.isEmpty(this.max))this.max=f.DEFAULT_MAX;if(isNaN(this.step)||f.isEmpty(this.step)||0===this.step)this.step=f.DEFAULT_STEP;this.diff=this.max-this.min},_initHighlight:function(a){var b=this._getCaption();a||(a=this.$element.val());var c=this.getWidthFromValue(a)+"%";this.$filledStars.width(c);this.cache={caption:b,width:c,val:a}},_getContainerCss:function(){return"rating-container"+
f.getCss(this.theme,"theme-"+this.theme)+f.getCss(this.rtl,"rating-rtl")+f.getCss(this.size,"rating-"+this.size)+f.getCss(this.animate,"rating-animate")+f.getCss(this.disabled||this.readonly,"rating-disabled")+f.getCss(this.containerClass,this.containerClass)},_checkDisabled:function(){var a=this.$element,b=this.options;this.disabled=void 0===b.disabled?a.attr("disabled")||!1:b.disabled;this.readonly=void 0===b.readonly?a.attr("readonly")||!1:b.readonly;this.inactive=this.disabled||this.readonly;
a.attr({disabled:this.disabled,readonly:this.readonly})},_addContent:function(a,b){var c=this.$container,e="clear"===a;return this.rtl?e?c.append(b):c.prepend(b):e?c.prepend(b):c.append(b)},_generateRating:function(){var a=this.$element,b;var c=this.$container=d(document.createElement("div")).insertBefore(a);f.addCss(c,this._getContainerCss());this.$rating=b=d(document.createElement("div")).attr("class","rating-stars").appendTo(c).append(this._getStars("empty")).append(this._getStars("filled"));this.$emptyStars=
b.find(".empty-stars");this.$filledStars=b.find(".filled-stars");this._renderCaption();this._renderClear();this._initHighlight();c.append(a);this.rtl&&(c=Math.max(this.$emptyStars.outerWidth(),this.$filledStars.outerWidth()),this.$emptyStars.width(c));a.appendTo(b)},_getCaption:function(){return this.$caption&&this.$caption.length?this.$caption.html():this.defaultCaption},_setCaption:function(a){this.$caption&&this.$caption.length&&this.$caption.html(a)},_renderCaption:function(){var a=this.$element.val(),
b=this.captionElement?d(this.captionElement):"";this.showCaption&&(a=this.fetchCaption(a),b&&b.length?(f.addCss(b,"caption"),b.html(a),this.$caption=b):(this._addContent("caption",'<div class="caption" style="display:none">'+a+"</div>"),this.$caption=this.$container.find(".caption")))},_renderClear:function(){var a=this.clearElement?d(this.clearElement):"";if(this.showClear){var b=this._getClearClass();a.length?(f.addCss(a,b),a.attr({title:this.clearButtonTitle}).html(this.clearButton),this.$clear=
a):(this._addContent("clear",'<div class="'+b+'" title="'+this.clearButtonTitle+'">'+this.clearButton+"</div>"),this.$clear=this.$container.find("."+this.clearButtonBaseClass))}},_getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},_toggleHover:function(a){if(a){if(this.hoverChangeStars){var b=this.getWidthFromValue(this.clearValue);b=a.val<=this.clearValue?b+"%":a.width;this.$filledStars.css("width",b)}this.hoverChangeCaption&&(a=a.val<=this.clearValue?
this.fetchCaption(this.clearValue):a.caption)&&this._setCaption(a+"")}},_init:function(a){var b=this,c=b.$element.addClass("rating-input");b.options=a;d.each(a,function(a,c){b[a]=c});if(b.rtl||"rtl"===c.attr("dir"))b.rtl=!0,c.attr("dir","rtl");b.starClicked=!1;b.clearClicked=!1;b._initSlider(a);b._checkDisabled();b.displayOnly&&(b.inactive=!0,b.showClear=!1,b.showCaption=!1);b._generateRating();b._initEvents();b._listen();a=b._parseValue(c.val());c.val(a);return c.removeClass("rating-loading")},_initEvents:function(){var a=
this;a.events={_getTouchPosition:function(b){return(f.isEmpty(b.pageX)?b.originalEvent.touches[0].pageX:b.pageX)-a.$rating.offset().left},_listenClick:function(a,c){a.stopPropagation();a.preventDefault();if(!0!==a.handled)c(a),a.handled=!0;else return!1},_noMouseAction:function(b){return!a.hoverEnabled||a.inactive||b&&b.isDefaultPrevented()},initTouch:function(b){var c=a.clearValue||0;if(("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)&&!a.inactive){var e=
b.originalEvent;e=f.isEmpty(e.touches)?e.changedTouches:e.touches;e=a.events._getTouchPosition(e[0]);if("touchend"===b.type)a._setStars(e),c=[a.$element.val(),a._getCaption()],a.$element.trigger("change").trigger("rating.change",c),a.starClicked=!0;else{e=a.calculate(e);b=e.val<=c?a.fetchCaption(c):e.caption;var d=a.getWidthFromValue(c);c=e.val<=c?d+"%":e.width;a._setCaption(b);a.$filledStars.css("width",c)}}},starClick:function(b){var c,e;a.events._listenClick(b,function(b){if(a.inactive)return!1;
c=a.events._getTouchPosition(b);a._setStars(c);e=[a.$element.val(),a._getCaption()];a.$element.trigger("change").trigger("rating.change",e);a.starClicked=!0})},clearClick:function(b){a.events._listenClick(b,function(){a.inactive||(a.clear(),a.clearClicked=!0)})},starMouseMove:function(b){a.events._noMouseAction(b)||(a.starClicked=!1,b=a.events._getTouchPosition(b),b=a.calculate(b),a._toggleHover(b),a.$element.trigger("rating.hover",[b.val,b.caption,"stars"]))},starMouseLeave:function(b){a.events._noMouseAction(b)||
a.starClicked||(a._toggleHover(a.cache),a.$element.trigger("rating.hoverleave",["stars"]))},clearMouseMove:function(b){if(!a.events._noMouseAction(b)&&a.hoverOnClear){a.clearClicked=!1;b='<span class="'+a.clearCaptionClass+'">'+a.clearCaption+"</span>";var c=a.clearValue;var e=a.getWidthFromValue(c)||0;a._toggleHover({caption:b,width:e,val:c});a.$element.trigger("rating.hover",[c,b,"clear"])}},clearMouseLeave:function(b){a.events._noMouseAction(b)||a.clearClicked||!a.hoverOnClear||(a._toggleHover(a.cache),
a.$element.trigger("rating.hoverleave",["clear"]))},resetForm:function(b){b&&b.isDefaultPrevented()||a.inactive||a.reset()}}},_listen:function(){var a=this.$element,b=a.closest("form"),c=this.$rating,e=this.$clear,g=this.events;f.handler(c,"touchstart touchmove touchend",d.proxy(g.initTouch,this));f.handler(c,"click touchstart",d.proxy(g.starClick,this));f.handler(c,"mousemove",d.proxy(g.starMouseMove,this));f.handler(c,"mouseleave",d.proxy(g.starMouseLeave,this));this.showClear&&e.length&&(f.handler(e,
"click touchstart",d.proxy(g.clearClick,this)),f.handler(e,"mousemove",d.proxy(g.clearMouseMove,this)),f.handler(e,"mouseleave",d.proxy(g.clearMouseLeave,this)));b.length&&f.handler(b,"reset",d.proxy(g.resetForm,this),!0);return a},_getStars:function(a){var b='<span class="'+a+'-stars">',c;for(c=1;c<=this.stars;c++)b+='<span class="star">'+this[a+"Star"]+"</span>";return b+"</span>"},_setStars:function(a){var b=arguments.length?this.calculate(a):this.calculate(),c=this.$element,e=this._parseValue(b.val);
c.val(e);this.$filledStars.css("width",b.width);this._setCaption(b.caption);this.cache=b;return c},showStars:function(a){a=this._parseValue(a);this.$element.val(a);return this._setStars()},calculate:function(a){var b=f.isEmpty(this.$element.val())?0:this.$element.val();b=arguments.length?this.getValueFromPosition(a):b;var c=this.fetchCaption(b),e=this.getWidthFromValue(b);return{caption:c,width:e+"%",val:b}},getValueFromPosition:function(a){var b=f.getDecimalPlaces(this.step),c=this.$rating.width();
a=this.diff*a/(c*this.step);a=this.rtl?Math.floor(a):Math.ceil(a);b=f.applyPrecision(parseFloat(this.min+a*this.step),b);b=Math.max(Math.min(b,this.max),this.min);return this.rtl?this.max-b:b},getWidthFromValue:function(a){var b=this.min,c=this.max;var e=this.$emptyStars;var d;if(!a||a<=b||b===c)return 0;e=(d=e.outerWidth())?e.width()/d:1;return a>=c?100:(a-b)*e*100/(c-b)},fetchCaption:function(a){a=parseFloat(a)||this.clearValue;var b=this.starCaptions;var c=this.starCaptionClasses;a&&a!==this.clearValue&&
(a=f.applyPrecision(a,f.getDecimalPlaces(this.step)));c="function"===typeof c?c(a):c[a];b="function"===typeof b?b(a):b[a];b=f.isEmpty(b)?this.defaultCaption.replace(/\{rating}/g,a):b;return'<span class="'+(f.isEmpty(c)?this.clearCaptionClass:c)+'">'+(a===this.clearValue?this.clearCaption:b)+"</span>"},destroy:function(){var a=this.$element;f.isEmpty(this.$container)||this.$container.before(a).remove();d.removeData(a.get(0));return a.off("rating").removeClass("rating rating-input")},create:function(a){a=
a||this.options||{};return this.destroy().rating(a)},clear:function(){var a='<span class="'+this.clearCaptionClass+'">'+this.clearCaption+"</span>";this.inactive||this._setCaption(a);return this.showStars(this.clearValue).trigger("change").trigger("rating.clear")},reset:function(){return this.showStars(this.initialValue).trigger("rating.reset")},update:function(a){return arguments.length?this.showStars(a):this.$element},refresh:function(a){var b=this.$element;return a?this.destroy().rating(d.extend(!0,
this.options,a)).trigger("rating.refresh"):b}};d.fn.rating=function(a){var b=Array.apply(null,arguments),c=[];b.shift();this.each(function(){var e=d(this),g=e.data("rating"),k="object"===typeof a&&a,m=k.theme||e.data("theme"),l=k.language||e.data("language")||"en",n={},p={};g||(m&&(n=d.fn.ratingThemes[m]||{}),"en"===l||f.isEmpty(d.fn.ratingLocales[l])||(p=d.fn.ratingLocales[l]),g=d.extend(!0,{},d.fn.rating.defaults,n,d.fn.ratingLocales.en,p,k,e.data()),g=new h(this,g),e.data("rating",g));"string"===
typeof a&&c.push(g[a].apply(g,b))});switch(c.length){case 0:return this;case 1:return void 0===c[0]?this:c[0];default:return c}};d.fn.rating.defaults={theme:"",language:"en",stars:5,filledStar:'<i class="glyphicon glyphicon-star"></i>',emptyStar:'<i class="glyphicon glyphicon-star-empty"></i>',containerClass:"",size:"md",animate:!0,displayOnly:!1,rtl:!1,showClear:!0,showCaption:!0,starCaptionClasses:{"0.5":"label label-danger",1:"label label-danger","1.5":"label label-warning",2:"label label-warning",
"2.5":"label label-info",3:"label label-info","3.5":"label label-primary",4:"label label-primary","4.5":"label label-success",5:"label label-success"},clearButton:'<i class="glyphicon glyphicon-minus-sign"></i>',clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaptionClass:"label label-default",clearValue:null,captionElement:null,clearElement:null,hoverEnabled:!0,hoverChangeCaption:!0,hoverChangeStars:!0,hoverOnClear:!0,zeroAsNull:!0};d.fn.ratingLocales.en={defaultCaption:"{rating} Stars",
starCaptions:{"0.5":"Half Star",1:"One Star","1.5":"One & Half Star",2:"Two Stars","2.5":"Two & Half Stars",3:"Three Stars","3.5":"Three & Half Stars",4:"Four Stars","4.5":"Four & Half Stars",5:"Five Stars"},clearButtonTitle:"Clear",clearCaption:"Not Rated"};d.fn.rating.Constructor=h;d(document).ready(function(){var a=d("input.rating");a.length&&a.removeClass("rating-loading").addClass("rating-loading").rating()})});